<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title></title>
  <script src='http://api.tiles.mapbox.com/mapbox.js/v1.3.1/mapbox.js'></script>
  <link href='http://api.tiles.mapbox.com/mapbox.js/v1.3.1/mapbox.css' rel='stylesheet' />
  <!--[if lte IE 8]>
    <link href='//api.tiles.mapbox.com/mapbox.js/v1.3.1/mapbox.ie.css' rel='stylesheet'>
  <![endif]-->
  <style>
    body { margin:0; padding:0; }
    #map { position:absolute; top:0; bottom:0; width:100%; }
  </style>
</head>
<body>
<a href="https://github.com/brunosan/nationstri-map/tree/gh-pages"><img style="position: absolute; top: 0; right: 0; border: 0;z-index:1" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
<div id='map'></div>
<script src="/data.json" type="text/javascript"></script>
<script type='text/javascript'>
var map = L.mapbox.map('map', 'brunosan.map-cyglrrfu')
    .setView([38.8801,-76.9941], 13);

function onEachFeature(data, layer) {
    // does this data have a property named popupContent?
    if (data.properties && data.properties.popupContent) {
        layer.bindPopup(data.properties.popupContent);
    }
}

L.geoJson(data, {
    style: function(feature) {
        switch (feature.properties.section) {
            case 'swim': return {
              "stroke-width": "13px",
              color: "#00CCFF"
            };
            case 'bike':   return {
              "stroke-width": "13px",
              color: "#FF0000"};
            case 'run':   return {
              "stroke-width": "13px",
              color: "#33CC33"};
            case 'transition area':   return {
              "stroke-width": "13px",
              color: "#FFFFFF"};
        }
    },
    onEachFeature: onEachFeature
}).addTo(map);


</script>
</body>
</html>